import{r as E,T as O,Q as u,o as f,c as x,a,u as s,w as c,F as P,Z as U,b as t,t as C,d as $,n as B,e as V,f as N,g as k,h as T,O as F}from"./app-BCcKGzoT.js";import{_ as q}from"./AuthenticatedLayout-C9v6VfGL.js";import{_ as l}from"./InputError-B4jwTSnx.js";import{_ as n}from"./InputLabel-DB2rKhMY.js";import{P as z}from"./PrimaryButton-C2ZYOE4N.js";import{_ as m}from"./TextInput-DOd9wumI.js";import{d as I}from"./theme-sugar-cgx8DVsR.js";import{L}from"./Loading-BKnB2oBB.js";const j={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},D={class:"py-6"},M={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Q={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Z={class:"p-6 text-gray-900 dark:text-gray-100"},A={class:"flex items-center gap-4"},G={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},se={__name:"Form",props:{user:{type:Object}},setup(p){var g,_,v;const b=E(null),i=I.useToast(),d={position:"top-right",duration:5e3},e=O({name:((g=u().props)==null?void 0:g.user.name)??"",email:((_=u().props)==null?void 0:_.user.email)??"",telefone:((v=u().props)==null?void 0:v.user.telefone)??"",password:"",password_confirmation:""}),h=()=>{e.patch(route("admin.pastores.update",u().props.user.id),{preserveScroll:!0,onSuccess:()=>w(),onError:()=>{i.error("Ops! Ocorreu um erro!",d)}})},S=()=>{e.post(route("admin.pastores.store"),{preserveScroll:!0,onSuccess:()=>w(!0),onError:()=>{i.error("Ops! Ocorreu um erro!",d)}})},w=(y=!1)=>{y?i.success("Pastor criado com sucesso!",d):i.success("Pastor atualizado com sucesso!",d),e.password="",e.password_confirmation="",F.reload()};return(y,o)=>(f(),x(P,null,[a(s(U),{title:p.user.id?"Editar Pastor":"Cadastrar Pastor"},null,8,["title"]),a(q,null,{header:c(()=>[t("h2",j,C(p.user.id?"Editar":"Cadastrar")+" Pastor",1)]),default:c(()=>[t("div",D,[t("div",M,[t("div",Q,[t("div",Z,[t("form",{onSubmit:o[5]||(o[5]=$(r=>p.user.id?h():S(),["prevent"])),class:"mt-6 space-y-6"},[t("div",null,[a(n,{for:"name",value:"Nome"}),a(m,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(e).name,"onUpdate:modelValue":o[0]||(o[0]=r=>s(e).name=r),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),a(l,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),t("div",null,[a(n,{for:"email",value:"Email"}),a(m,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:s(e).email,"onUpdate:modelValue":o[1]||(o[1]=r=>s(e).email=r),required:"",autocomplete:"username",placeholder:"email@email.com"},null,8,["modelValue"]),a(l,{class:"mt-2",message:s(e).errors.email},null,8,["message"])]),t("div",null,[a(n,{for:"telefone",value:"Telefone"}),a(m,{id:"telefone",type:"text",class:"mt-1 block w-full",modelValue:s(e).telefone,"onUpdate:modelValue":o[2]||(o[2]=r=>s(e).telefone=r),autocomplete:"telefone",placeholder:"(##) #####-####",mask:"(##) #####-####"},null,8,["modelValue"]),a(l,{class:"mt-2",message:s(e).errors.telefone},null,8,["message"])]),t("div",null,[a(n,{for:"password",value:"Senha"}),a(m,{id:"password",ref_key:"passwordInput",ref:b,modelValue:s(e).password,"onUpdate:modelValue":o[3]||(o[3]=r=>s(e).password=r),type:"password",class:"mt-1 block w-full",autocomplete:"new-password",placeholder:"********"},null,8,["modelValue"]),a(l,{message:s(e).errors.password,class:"mt-2"},null,8,["message"])]),t("div",null,[a(n,{for:"password_confirmation",value:"Confirmação da Senha"}),a(m,{id:"password_confirmation",modelValue:s(e).password_confirmation,"onUpdate:modelValue":o[4]||(o[4]=r=>s(e).password_confirmation=r),type:"password",class:"mt-1 block w-full",autocomplete:"new-password",placeholder:"********"},null,8,["modelValue"]),a(l,{message:s(e).errors.password_confirmation,class:"mt-2"},null,8,["message"])]),t("div",A,[a(z,{class:B({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:c(()=>[V("Salvar")]),_:1},8,["class","disabled"]),V(),s(e).processing?(f(),N(L,{key:0})):k("",!0),a(T,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:c(()=>[s(e).recentlySuccessful?(f(),x("p",G," Salvo.")):k("",!0)]),_:1})])],32)])])])])]),_:1})],64))}};export{se as default};

import{h as O,o as s,c,b as o,t as B,F as k,i as $,j as m,w as y,g,n as v,u as n,k as C,T as N,a as u,e as w,l as P,r as j,d as S,O as T}from"./app-wB4n6WPZ.js";import{_ as V,D as M,a as q}from"./SecondaryButton-C7m3AWTh.js";import{d as D}from"./theme-sugar-ZkRwzRAH.js";import{P as E}from"./PrimaryButton-MGGkPKuk.js";import{_ as A}from"./TextInput-F6_4rlo7.js";const I={class:"relative flex justify-center mt-3"},z={class:"px-3 py-2 absolute left-0"},F={key:2},U={__name:"Pagination",props:{pagination:Object},setup(r){return(p,x)=>{const f=O("font-awesome-icon");return s(),c("nav",I,[o("div",z,"Total: "+B(r.pagination.total),1),(s(!0),c(k,null,$(r.pagination.links,e=>(s(),c(k,{key:e.label},[e.url||e.label=="..."?(s(),m(n(C),{key:0,"preserve-scroll":"","preserve-state":"",href:e.url||"",class:v(["flex items-center justify-center px-3 py-2 text-sm rounded-lg text-gray-700 dark:text-gray-200",{"bg-gray-300 dark:bg-gray-700":e.active,"!text-gray-400 dark:text-gray-500":!e.url}])},{default:y(()=>[e.label.includes("Próximo")?(s(),m(f,{key:0,icon:["fas","angles-right"]})):g("",!0),e.label.includes("Anterior")?(s(),m(f,{key:1,icon:["fas","angles-left"]})):g("",!0),!e.label.includes("Próximo")&&!e.label.includes("Anterior")?(s(),c("span",F,B(e.label),1)):g("",!0)]),_:2},1032,["href","class"])):g("",!0)],64))),128))])}}},L={class:"p-6"},G={class:"text-lg font-medium text-gray-900 dark:text-gray-100"},H=o("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Tem certeza de que deseja excluir este item? Essa ação não pode ser desfeita. ",-1),J={class:"mt-6 flex justify-end"},K={__name:"ModalDelete",props:{id:{type:Number},url:{type:String}},emits:["close","error","success"],setup(r,{emit:p}){const x=p,f=N({}),e=D.useToast(),_={position:"top-right",duration:5e3},b=(l,t)=>{P.delete(route(t,l)).then(()=>{a()}).catch(i=>{d(i==null?void 0:i.response.status)})},h=()=>{x("close")},a=()=>{e.success("Item excluído com sucesso!",_),x("success"),h()},d=l=>{l==404?e.error("Item don't found!",_):l==401?e.error("No permission to delete!",_):e.error("Ops! Ocorreu um erro!",_),console.log("erro!"),x("error")};return(l,t)=>{const i=O("font-awesome-icon");return s(),m(q,{show:!0,onClose:h},{default:y(()=>[o("div",L,[o("h2",G,[u(i,{icon:"triangle-exclamation",class:"text-red-600"}),w(" Excluir ")]),H,o("div",J,[u(V,{onClick:h},{default:y(()=>[w(" Cancelar ")]),_:1}),u(M,{class:v(["ms-3",{"opacity-25":n(f).processing}]),disabled:n(f).processing,html:{"...":n(f).processing},onClick:t[0]||(t[0]=re=>b(r.id,r.url))},{default:y(()=>[w(" Excluir Item ")]),_:1},8,["class","disabled","html"])])])]),_:1})}}},Q={class:"flex-row-reverse"},R={type:"submit",class:"px-3 py-3"},W={class:"ml-auto mt-2"},X={class:"relative overflow-x-auto shadow-md sm:rounded-lg mt-3"},Y={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},Z={class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},ee=["onClick"],te=o("th",{scope:"col",class:"px-6 py-3"},"Ação",-1),se={class:"px-6 py-4 inline-flex"},ce={__name:"Table",props:{items:{type:Object},columns:{type:Array},query:{type:Object},routeBase:{type:String}},setup(r){const p=r,x=a=>{h.value=a.id,b.value=!0},f=()=>{T.reload()},e=N({name:p.query.name??"",order_key:p.query.order_key??"name",order:p.query.order=="true"}),_=a=>{e.order=a==e.order_key?!e.order:!1,e.order_key=a,e.get(route(p.routeBase+".index"))},b=j(!1),h=j(null);return(a,d)=>{const l=O("font-awesome-icon");return s(),c(k,null,[o("form",{class:"flex",onSubmit:d[1]||(d[1]=S(t=>n(e).get(a.route(r.routeBase+".index")),["prevent"]))},[u(A,{id:"current_password",ref:"currentPasswordInput",modelValue:n(e).name,"onUpdate:modelValue":d[0]||(d[0]=t=>n(e).name=t),type:"text",class:"mt-1 md:w-60 w-full",placeholder:"Nome"},null,8,["modelValue"]),o("div",Q,[o("button",R,[u(l,{icon:["fas","magnifying-glass"]})])]),o("div",W,[a.route().has(r.routeBase+".create")?(s(),m(n(C),{key:0,href:a.route(r.routeBase+".create")},{default:y(()=>[u(E,null,{default:y(()=>[w("Cadastrar")]),_:1})]),_:1},8,["href"])):g("",!0)])],32),o("div",X,[o("table",Y,[o("thead",Z,[o("tr",null,[(s(!0),c(k,null,$(r.columns,t=>(s(),c("th",{key:t.key,scope:"col",class:v(["px-6 py-3 cursor-pointer truncate",{"text-gray-500 dark:text-gray-200":n(e).order_key==t.key}]),onClick:i=>_(t.key)},[w(B(t.name)+" ",1),o("span",{class:v({invisible:n(e).order_key!=t.key})},[n(e).order?(s(),m(l,{key:0,icon:["fas","arrow-up"]})):(s(),m(l,{key:1,icon:["fas","arrow-down"]}))],2)],10,ee))),128)),te])]),o("tbody",null,[(s(!0),c(k,null,$(r.items.data,t=>(s(),c("tr",{key:t.id,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[(s(!0),c(k,null,$(r.columns,i=>(s(),c("td",{key:i.key,class:v(["px-6 py-4",{"font-medium text-gray-900 whitespace-nowrap dark:text-white":i.key=="id"}])},B(t[i.key]),3))),128)),o("td",se,[a.route().has(r.routeBase+".edit",t.id)?(s(),m(n(C),{key:0,href:a.route(r.routeBase+".edit",t.id),class:"mr-3 sm:mr-0"},{default:y(()=>[u(V,null,{default:y(()=>[u(l,{icon:["fas","pencil"]})]),_:1})]),_:2},1032,["href"])):g("",!0),a.route().has(r.routeBase+".destroy",t.id)?(s(),m(M,{key:1,class:"ms-0 sm:ms-3",onClick:i=>x(t)},{default:y(()=>[u(l,{icon:["fas","trash"]})]),_:2},1032,["onClick"])):g("",!0)])]))),128))])])]),u(U,{pagination:r.items.meta},null,8,["pagination"]),b.value?(s(),m(K,{key:0,onSuccess:d[2]||(d[2]=t=>f()),onClose:d[3]||(d[3]=t=>b.value=!1),id:h.value,url:r.routeBase+".destroy"},null,8,["id","url"])):g("",!0)],64)}}};export{ce as _};

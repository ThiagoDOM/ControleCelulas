import{r as V,T as O,Q as d,o as b,c as k,a as s,u as a,w as f,F as $,Z as C,b as r,t as L,d as N,n as T,e as B,f as F,g as P,O as D}from"./app-sKoaz3Qs.js";import{_ as q}from"./AuthenticatedLayout-MbuVHWAj.js";import{_ as t,a as n}from"./InputLabel-JglrZC3l.js";import{P as z}from"./PrimaryButton-gEWSKWOJ.js";import{_ as m}from"./TextInput-V4o7ltHe.js";import{d as I}from"./theme-sugar-kxmtjoPw.js";import{s as j}from"./vue-multiselect-i2uG1fX6.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const A={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},M={class:"py-6"},Q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Z={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},G={class:"p-6 text-gray-900 dark:text-gray-100"},H={class:"flex items-center gap-4"},J={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},oe={__name:"Form",props:{user:{type:Object},responsaveis:{type:Array,default:[]}},setup(i){var g,y,_,x;const S=i,h=V(null),u=I.useToast(),p={position:"top-right",duration:5e3},e=O({name:((g=d().props)==null?void 0:g.user.name)??"",email:((y=d().props)==null?void 0:y.user.email)??"",telefone:((_=d().props)==null?void 0:_.user.telefone)??"",responsavel_id:((x=d().props)==null?void 0:x.user.responsavel_id)??"",password:"",password_confirmation:""}),v=V(S.responsaveis.find(c=>c.id===e.responsavel_id)),E=()=>{e.patch(route("admin.lideres.update",d().props.user.id),{preserveScroll:!0,onSuccess:()=>w(),onError:()=>{u.error("Ops! Ocorreu um erro!",p)}})},U=()=>{e.post(route("admin.lideres.store"),{preserveScroll:!0,onSuccess:()=>w(!0),onError:()=>{u.error("Ops! Ocorreu um erro!",p)}})},w=(c=!1)=>{c?u.success("Lider criado com sucesso!",p):u.success("Lider atualizado com sucesso!",p),e.password="",e.password_confirmation="",D.reload()};return(c,o)=>(b(),k($,null,[s(a(C),{title:i.user.id?"Editar Líder":"Cadastrar Líder"},null,8,["title"]),s(q,null,{header:f(()=>[r("h2",A,L(i.user.id?"Editar":"Cadastrar")+" Líder",1)]),default:f(()=>[r("div",M,[r("div",Q,[r("div",Z,[r("div",G,[r("form",{onSubmit:o[7]||(o[7]=N(l=>i.user.id?E():U(),["prevent"])),class:"mt-6 space-y-6"},[r("div",null,[s(t,{for:"name",value:"Nome"}),s(m,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:a(e).name,"onUpdate:modelValue":o[0]||(o[0]=l=>a(e).name=l),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),s(n,{class:"mt-2",message:a(e).errors.name},null,8,["message"])]),r("div",null,[s(t,{for:"email",value:"Email"}),s(m,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:a(e).email,"onUpdate:modelValue":o[1]||(o[1]=l=>a(e).email=l),required:"",autocomplete:"username",placeholder:"email@email.com"},null,8,["modelValue"]),s(n,{class:"mt-2",message:a(e).errors.email},null,8,["message"])]),r("div",null,[s(t,{for:"telefone",value:"Telefone"}),s(m,{id:"telefone",type:"text",class:"mt-1 block w-full",modelValue:a(e).telefone,"onUpdate:modelValue":o[2]||(o[2]=l=>a(e).telefone=l),autocomplete:"telefone",placeholder:"(##) #####-####",mask:"(##) #####-####"},null,8,["modelValue"]),s(n,{class:"mt-2",message:a(e).errors.telefone},null,8,["message"])]),r("div",null,[s(t,{for:"responsavel",value:"Discipulador"}),s(a(j),{name:"responsavel",modelValue:v.value,"onUpdate:modelValue":o[3]||(o[3]=l=>v.value=l),options:i.responsaveis,onSelect:o[4]||(o[4]=l=>a(e).responsavel_id=v.value.id),"track-by":"name",label:"name","select-label":"Pressione Enter para selecionar",placeholder:"Selecionar Discipulador","deselect-label":"Pressione Enter para remover","selected-label":"Selecionado",taggable:!0,multiple:!1,"show-labels":!1},null,8,["modelValue","options"]),s(n,{message:a(e).errors.responsavel_id,class:"mt-2"},null,8,["message"])]),r("div",null,[s(t,{for:"password",value:"Senha"}),s(m,{id:"password",ref_key:"passwordInput",ref:h,modelValue:a(e).password,"onUpdate:modelValue":o[5]||(o[5]=l=>a(e).password=l),type:"password",class:"mt-1 block w-full",autocomplete:"new-password",placeholder:"****"},null,8,["modelValue"]),s(n,{message:a(e).errors.password,class:"mt-2"},null,8,["message"])]),r("div",null,[s(t,{for:"password_confirmation",value:"Confirmação da Senha"}),s(m,{id:"password_confirmation",modelValue:a(e).password_confirmation,"onUpdate:modelValue":o[6]||(o[6]=l=>a(e).password_confirmation=l),type:"password",class:"mt-1 block w-full",autocomplete:"new-password"},null,8,["modelValue"]),s(n,{message:a(e).errors.password_confirmation,class:"mt-2"},null,8,["message"])]),r("div",H,[s(z,{class:T({"opacity-25":a(e).processing}),disabled:a(e).processing},{default:f(()=>[B("Salvar")]),_:1},8,["class","disabled"]),s(F,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:f(()=>[a(e).recentlySuccessful?(b(),k("p",J," Salvo.")):P("",!0)]),_:1})])],32)])])])])]),_:1})],64))}};export{oe as default};

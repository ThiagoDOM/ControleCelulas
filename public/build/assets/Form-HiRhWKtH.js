import{T as b,r as h,o as f,c as g,a,u as s,w as c,F as C,Z as S,b as t,t as V,d as k,n as w,e as E,f as O,g as $,Q as N,O as B}from"./app-RqoWLNWn.js";import{_ as F}from"./AuthenticatedLayout-eOPgzCGU.js";import{_ as v,a as _}from"./InputLabel-qiTLYacX.js";import{P}from"./PrimaryButton-A27nBTAP.js";import{_ as T}from"./TextInput-ZZmjqtwU.js";import{d as z}from"./theme-sugar-HHB0F93z.js";import{s as L}from"./vue-multiselect-fZBDd6RB.js";import"./_plugin-vue_export-helper-x3n3nnut.js";const U={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},j={class:"py-6"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},D={class:"p-6 text-gray-900 dark:text-gray-100"},M={class:"flex items-center gap-4"},Q={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},X={__name:"Form",props:{celula:{type:Object},lideres:{type:Array,default:[]}},setup(r){const u=r,i=z.useToast(),n={position:"top-right",duration:5e3},e=b({name:u.celula.name??"",lider_id:u.celula.lider_id??""}),m=h(u.lideres.find(d=>d.id===e.lider_id)),x=()=>{e.patch(route("admin.celulas.update",N().props.celula.id),{preserveScroll:!0,onSuccess:()=>p(),onError:()=>{i.error("Ops! Ocorreu um erro!",n)}})},y=()=>{e.post(route("admin.celulas.store"),{preserveScroll:!0,onSuccess:()=>p(!0),onError:()=>{i.error("Ops! Ocorreu um erro!",n)}})},p=(d=!1)=>{d?i.success("Célula criada com sucesso!",n):i.success("Célula atualizada com sucesso!",n),B.reload()};return(d,l)=>(f(),g(C,null,[a(s(S),{title:r.celula.id?"Editar Célula":"Cadastrar Célula"},null,8,["title"]),a(F,null,{header:c(()=>[t("h2",U,V(r.celula.id?"Editar":"Cadastrar")+" Célula",1)]),default:c(()=>[t("div",j,[t("div",q,[t("div",A,[t("div",D,[t("form",{onSubmit:l[3]||(l[3]=k(o=>r.celula.id?x():y(),["prevent"])),class:"mt-6 space-y-6"},[t("div",null,[a(v,{for:"name",value:"Nome"}),a(T,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:s(e).name,"onUpdate:modelValue":l[0]||(l[0]=o=>s(e).name=o),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),a(_,{class:"mt-2",message:s(e).errors.name},null,8,["message"])]),t("div",null,[a(v,{for:"lider",value:"Líder"}),a(s(L),{name:"lider",modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=o=>m.value=o),options:r.lideres,onSelect:l[2]||(l[2]=o=>s(e).lider_id=m.value.id),"track-by":"name",label:"name","select-label":"Pressione Enter para selecionar",placeholder:"Selecionar Líder","deselect-label":"Pressione Enter para remover","selected-label":"Selecionado",taggable:!0,multiple:!1,"show-labels":!1},null,8,["modelValue","options"]),a(_,{message:s(e).errors.lider_id,class:"mt-2"},null,8,["message"])]),t("div",M,[a(P,{class:w({"opacity-25":s(e).processing}),disabled:s(e).processing},{default:c(()=>[E("Salvar")]),_:1},8,["class","disabled"]),a(O,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:c(()=>[s(e).recentlySuccessful?(f(),g("p",Q," Salvo.")):$("",!0)]),_:1})])],32)])])])])]),_:1})],64))}};export{X as default};

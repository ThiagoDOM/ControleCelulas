import{T as C,r as S,o as p,c as v,a as s,u as a,w as i,F as k,Z as V,b as t,t as w,d as O,e as f,n as $,f as E,g as _,h as N,Q as B,O as F}from"./app-DnKDrPVM.js";import{_ as L}from"./AuthenticatedLayout-DmJ9O_D9.js";import{_ as y,a as x}from"./InputLabel-Du2OvpC9.js";import{P as T}from"./PrimaryButton-B4dNHRv5.js";import{_ as P}from"./TextInput-DB0ck1kv.js";import{d as z}from"./theme-sugar-jPFqOBsR.js";import{s as U}from"./multiSelectDarkMode-D1SjQTRa.js";import{L as j}from"./Loading-BvlMGmzW.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const q={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},A={class:"py-6"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},M={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Q={class:"p-6 text-gray-900 dark:text-gray-100"},Z={class:"flex items-center gap-4"},G={key:0,class:"text-sm text-gray-600 dark:text-gray-400"},ae={__name:"Form",props:{celula:{type:Object},lideres:{type:Array,default:[]}},setup(o){const u=o,d=z.useToast(),n={position:"top-right",duration:5e3},e=C({name:u.celula.name??"",lider_id:u.celula.lider_id??""}),m=S(u.lideres.find(c=>c.id===e.lider_id)),b=()=>{e.patch(route("admin.celulas.update",B().props.celula.id),{preserveScroll:!0,onSuccess:()=>g(),onError:()=>{d.error("Ops! Ocorreu um erro!",n)}})},h=()=>{e.post(route("admin.celulas.store"),{preserveScroll:!0,onSuccess:()=>g(!0),onError:()=>{d.error("Ops! Ocorreu um erro!",n)}})},g=(c=!1)=>{c?d.success("Célula criada com sucesso!",n):d.success("Célula atualizada com sucesso!",n),F.reload()};return(c,l)=>(p(),v(k,null,[s(a(V),{title:o.celula.id?"Editar Célula":"Cadastrar Célula"},null,8,["title"]),s(L,null,{header:i(()=>[t("h2",q,w(o.celula.id?"Editar":"Cadastrar")+" Célula",1)]),default:i(()=>[t("div",A,[t("div",D,[t("div",M,[t("div",Q,[t("form",{onSubmit:l[3]||(l[3]=O(r=>o.celula.id?b():h(),["prevent"])),class:"mt-6 space-y-6"},[t("div",null,[s(y,{for:"name",value:"Nome"}),s(P,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:a(e).name,"onUpdate:modelValue":l[0]||(l[0]=r=>a(e).name=r),required:"",autofocus:"",autocomplete:"name"},null,8,["modelValue"]),s(x,{class:"mt-2",message:a(e).errors.name},null,8,["message"])]),t("div",null,[s(y,{for:"lider",value:"Líder"}),s(a(U),{name:"responsavel","track-by":"name",label:"name","select-label":"","deselect-label":"",tagPlaceholder:"",placeholder:"Selecionar Líder","selected-label":"Selecionado",taggable:!0,multiple:!1,"show-labels":!1,options:o.lideres,modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=r=>m.value=r),onSelect:l[2]||(l[2]=r=>a(e).lider_id=m.value.id)},{noOptions:i(()=>[f("Nenhum líder cadastrado no sistema")]),_:1},8,["options","modelValue"]),s(x,{message:a(e).errors.lider_id,class:"mt-2"},null,8,["message"])]),t("div",Z,[s(T,{class:$({"opacity-25":a(e).processing}),disabled:a(e).processing},{default:i(()=>[f("Salvar")]),_:1},8,["class","disabled"]),f(),a(e).processing?(p(),E(j,{key:0})):_("",!0),s(N,{"enter-active-class":"transition ease-in-out","enter-from-class":"opacity-0","leave-active-class":"transition ease-in-out","leave-to-class":"opacity-0"},{default:i(()=>[a(e).recentlySuccessful?(p(),v("p",G," Salvo.")):_("",!0)]),_:1})])],32)])])])])]),_:1})],64))}};export{ae as default};
